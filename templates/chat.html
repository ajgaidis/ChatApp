{% extends "layout.html" %}

{% block content %}

<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script type="text/javascript" charset="utf-8">
    $(document).ready(function() {

        var socket = io.connect('http://' + document.domain + ':' + location.port);


        socket.on('message', function(msg) {
            $("#messages").append('<li>' + msg.sender + ': ' + msg.message + '</li>');
        });

        // click event on send button
        $('#sendbutton').on('click', function() {
            var message = $('#messageContent').val();
            var recipient = $('#receiver').val();
            socket.send({'message': message, 'recipient': recipient});
            $('#messageContent').val('');
        });

    });
</script>

<div class="center">
    <div class="sticky">
        <div class="scroll">
            <ul id="messages"></ul>
            <input type="text" id="messageContent" placeholder="message">
            <input type="text" id="receiver" placeholder="recipient">
            <button id="sendbutton" class="button button1">Send</button>
        </div>
    </div>
</div>

{% endblock content %}